@using CI_Platform_MVC.Entity.Models.ViewModel

@model MissionVM

<div id="grid-view">
           <div class="row row-cols-1 row-cols-lg-2 row-cols-xl-3  g-4" id="list"> 

           @foreach (var item in Model.RelatedMissions)
           {
               <div class="col mission-list">
                <div class="card h-100">
                    <div class="d-flex justify-content-end" style="background: url('/images/Grow-Trees-On-the-path-to-environment-sustainability.png') center center no-repeat content-box; background-size: cover; height: 200px">
                    
                        <div class="mission-location" >
                            <img src="~/Images/pin.png" alt="" style="margin-right: 5px;"><span class="mission-location-city">@item.City.Name</span>
                        </div>
                        <div class="btn-group mission-buttons-List flex-column">
                            <div class="mission-like">

                                <button class="like-btn-card"><img src="~/Images/heart.png" alt="" style="height:20px;"></button>
                            </div>
                            <div class="mission-seat">

                                <button data-bs-toggle="modal"
                                data-bs-target="#exampleModal"><img src="~/Images/user.png" alt=""></button>
                            </div>
                        </div>
                        
                    </div>
                    <div class="mission-theme">
                            <p class="mission-theme-list">@item.Theme.Title</p>
                    </div>
                    <div class="card-body border-bottom">
                        <h5 class="card-title">@item.Title</h5>
                        <p class="card-text">@item.ShortDescription</p>
                        <div class="mission-organization">
                            <div>
                                <p>@item.OrganizationName</p>
                            </div>
                            <div>
                                <img src="~/Images/selected-star.png" alt="">
                                <img src="~/Images/selected-star.png" alt="">
                                <img src="~/Images/selected-star.png" alt="">
                                <img src="~/Images/selected-star.png" alt="">
                                <img src="~/Images/star.png" alt="">

                            </div>
                        </div>
                    </div>

                    @if(@item.MissionType == "TIME")
                    {
                        <div class="mission-theme">
                            <span>
                                From @item.StartDate.Value.ToShortDateString() until @item.EndDate.Value.ToShortDateString()
                            </span>
                        </div>
                    }
                    else
                    {
                        <div class="mission-theme">
                            <span>
                                Ongoing Opportunity
                            </span>
                        </div>
                    }


                    <div class="timestamp row card-body mt-4">
                        <div class="seats-left col d-inline-flex align-items-center">
                            <img src="~/Images/Seats-left.png" alt="">
                            <div class="p-1 ">
                                <p class="mb-0" style="font-size: 20px;"><strong>10</strong></p>
                                <p class="mb-0">Seats-left</p>
                            </div>
                        </div>
                        <div class="seats-left col d-inline-flex align-items-center">
                            <img src="~/Images/deadline.png" alt="">
                            <div class="p-1">
                                <p class="mb-0" style="font-size: 20px;"><strong> @((item.StartDate - TimeSpan.FromDays(1)).Value.ToShortDateString())  </strong></p>
                                <p class="mb-0">Deadline</p>
                            </div>
                        </div>

                    </div>
                    <div class="card-footer text-center">
                        <form>
                            <button asp-controller="Mission" asp-action="Volunteering_Page" asp-route-id="@item.MissionId" asp-route-theme_id="@item.ThemeId">Apply <span><img src="~/Images/right-arrow.png" alt=""></span></button>
                        </form>
                        
                    </div>
                </div>
            </div>
           }
             
            


            


        </div>

</div>